#include "../LISTENER.h"

///
#undef _LOG_LEVEL_
#define _LOG_LEVEL_ _LOG_NOTICE_
#include <tegia/context/log.h>
///

////////////////////////////////////////////////////////////////////////////////////////////
/**

	\brief Обработчик сообщения /init
	\detail
		Сообщение init инициализирует порт, указанный в теле сообщения и запускает цикл 
		приема fcgi-соединений.

*/   
////////////////////////////////////////////////////////////////////////////////////////////



namespace HTTP {

int LISTENER::unload(const std::shared_ptr<message_t> &message)
{
	/////////////////////////////////////////////////////////////////////////////////////////  

	std::cout << message->data << std::endl;

	tegia::actors::unload(this->name);

	/////////////////////////////////////////////////////////////////////////////////////////  
	return 200;
};

}	// END namespace HTTP
